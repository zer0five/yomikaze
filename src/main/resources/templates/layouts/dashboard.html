<!DOCTYPE html>
<html :data-theme="theme" lang="en" th:lang="${#locale.language}" x-data="theme"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      xmlns:th="http://www.thymeleaf.org"
>
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta name="description" th:content="#{site.description.generic}">
    <title th:text="#{site.name} + '::' + ~{this :: page-title/text()}">name::title</title>
    <link href="/asset/image/logo.svg" rel="shortcut icon" th:href="@{/asset/image/logo.svg}"
          type="image/svg"/>
    <link href="/asset/css/tailwind.min.css" rel="stylesheet" th:href="@{/asset/css/tailwind.min.css}"
          type="text/css"/>
    <link href="/asset/css/feather.min.css" rel="stylesheet" th:href="@{/asset/css/feather.min.css}"
          type="text/css"/>
</head>
<body class="bg-base-100 text-base-content overflow-x-hidden" th:fragment="body">
<th:block th:replace="fragments/scripts"></th:block>
<th:block th:replace="fragments/header"></th:block>
<div class="drawer drawer-mobile">
    <label class="btn btn-circle btn-ghost drawer-button sm:hidden" for="sidebar">
        <i data-feather="menu"></i>
    </label>
    <input class="drawer-toggle" id="sidebar" type="checkbox"/>
    <div class="drawer-content">
        <div class="w-full min-h-[calc(100vh-10rem)]">
            <div class="p-10" th:insert="this :: content">
                <!-- Main content here -->
            </div>
            <button @click="window.scrollTo({top: 0, behavior: 'smooth'})"
                    @scroll.window="scroll = document.documentElement.scrollTop > 20"
                    class="fixed bottom-10 right-10 btn btn-circle bg-neutral shadow-md hover:bg-accent hover:shadow-lg focus:bg-accent focus:shadow-lg active:bg-accent active:shadow-lg"
                    id="btn-back-to-top"
                    type="button"
                    x-cloak
                    x-data="{scroll : document.documentElement.scrollTop > 20}"
                    x-show="scroll"
                    x-transition.opacity
            >
                <i data-feather="arrow-up"></i>
            </button>
        </div>
    </div>
    <div class="drawer-side">
        <label class="drawer-overlay" for="sidebar"></label>
        <aside class="bg-base-200 w-72 overflow-y-auto text-base-content">
            <ul class="menu px-4">
                <!-- Sidebar content here -->
                <li class="menu-title"><span>My account</span></li>
                <li>
                    <a th:classappend="${#request.requestURI == '/me/profile' ? 'active' : ''}"
                       th:href="@{/me/profile}">
                        <i aria-hidden="true" data-feather="user"></i>
                        Profile
                    </a>
                </li>
                <li>
                    <a th:classappend="${#request.requestURI == '/me/library' ? 'active' : ''}"
                       th:href="@{/me/library}">
                        <i aria-hidden="true" data-feather="bookmark"></i>
                        Library
                    </a>
                </li>
                <li>
                    <a th:classappend="${#request.requestURI == '/me/history' ? 'active' : ''}"
                       th:href="@{/me/history}">
                        <i aria-hidden="true" data-feather="rotate-ccw"></i>
                        History
                    </a>
                </li>
                <li>
                    <a th:classappend="${#request.requestURI == '/me/settings' ? 'active' : ''}"
                       th:href="@{/me/settings}">
                        <i aria-hidden="true" data-feather="settings"></i>
                        Settings
                    </a>
                </li>
            </ul>
            <ul class="menu px-4">
                <li></li>
                <li class="menu-title"><span>Uploader zone</span></li>
                <li>
                    <a sec:authorize="hasAuthority('comic.create')"
                       th:classappend="${#request.requestURI == '/comic/create' ? 'active' : ''}"
                       th:href="@{/comic/create}">
                        <i aria-hidden="true" data-feather="book"></i>
                        Create comic
                    </a>
                </li>
                <li>
                    <a sec:authorize="hasAuthority('comic.manage')"
                       th:classappend="${#request.requestURI == '/comic/manage' ? 'active' : ''}"
                       th:href="@{/comic/manage}">
                        <i aria-hidden="true" data-feather="book-open"></i>
                        Manage comic
                    </a>
                </li>
            </ul>
        </aside>
    </div>
</div>
</body>
</html>
